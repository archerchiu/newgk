<!DOCTYPE html>
<html>
<head>
    <meta charset=utf-8 />
    <title>JS Bin</title>
    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script>
        var fileReader = new FileReader();
        var showPickFiles = function() {
            if ($('#up_file').is(":visible"))
                $('#up_file').hide();
            else
                $('#up_file').show();
        };

        var handleFileSelect = function(evt) {
            var files = evt.files,
                fileRow = "<ul>";

            if (files.length > 0) {
                for (var i = 0, f; f = files[i]; i++) {
                    fileRow += "<li>"+ f.name +"</li>";
    //                var reader = new FileReader();

                    // Closure to capture the file information.
    //                reader.onload = (function(theFile) {
    //                    return function(e) {
    //                        var span = document.createElement('span');
    //                    };
    //                })(f);

                    // Read in the image file as a data URL.
    //                reader.readAsDataURL(f);
                }
                fileRow += "</ul>";
                $('#uploadBtn').next().remove();
                $('#uploadBtn').after(fileRow);
                $('#uploadBtn').show();
            } else {
                $('#uploadBtn').next().remove();
                $('#uploadBtn').hide();
            }
        };
    </script>
</head>
<body>
<div style="width:36px;height:29px;"></div>
<div id="up">
    <div type="button" style="width:36px;height:29px;border:1px solid;border-radius:5px;background:no-repeat url(../../lib/uploader/img/upload_32.png) 2px 1px;" onclick="showPickFiles();" />
</div>
<div id="up_file" style="display:none;position:absolute;z-index:99;overflow-y:auto;width:350px;height:100px;border:1px solid;border-radius:5px;margin-top:3px;box-shadow:4px 4px 3px rgba(20%,20%,40%,0.5);">
    <span><input id="files" type="file" multiple onchange="handleFileSelect(this);" /></span>
    <span><input id="uploadBtn" type="button" value="Upload" style="display:none" /></span>
</div>
</body>
</html>